RUNUSER(1)                        User Commands                       RUNUSER(1)

NNAAMMEE
       runuser - run a command with substitute user and group ID

SSYYNNOOPPSSIISS
       rruunnuusseerr [options] --uu _u_s_e_r [[--] _c_o_m_m_a_n_d [_a_r_g_u_m_e_n_t...]]

       rruunnuusseerr [options] [--] [_u_s_e_r [_a_r_g_u_m_e_n_t...]]

DDEESSCCRRIIPPTTIIOONN
       rruunnuusseerr  allows  to run commands with a substitute user and group ID.  If
       the option --uu is not given, it falls back to ssuu-compatible semantics  and
       a  shell is executed.  The difference between the commands rruunnuusseerr and ssuu
       is that rruunnuusseerr does not ask for a password (because it may  be  executed
       by  the  root  user only) and it uses a different PAM configuration.  The
       command rruunnuusseerr does not have to be installed  with  set-user-ID  permis‐
       sions.

       If  the  PAM  session is not required then recommended solution is to use
       sseettpprriivv(1) command.

       When called without arguments, rruunnuusseerr defaults to running an interactive
       shell as _r_o_o_t.

       For  backward  compatibility,  rruunnuusseerr defaults to not change the current
       directory and to only set the environment variables HHOOMMEE and SSHHEELLLL  (plus
       UUSSEERR  and  LLOOGGNNAAMMEE  if  the  target  _u_s_e_r  is not root).  This version of
       rruunnuusseerr uses PAM for session management.

OOPPTTIIOONNSS
       --cc, ----ccoommmmaanndd=_c_o_m_m_a_n_d
              Pass _c_o_m_m_a_n_d to the shell with the --cc option.

       --ff, ----ffaasstt
              Pass --ff to the shell, which may or may not be useful depending  on
              the shell.

       --gg, ----ggrroouupp=_g_r_o_u_p
              The primary group to be used.  This option is allowed for the root
              user only.

       --GG, ----ssuupppp--ggrroouupp=_g_r_o_u_p
              Specify a supplemental group.  This option  is  available  to  the
              root  user  only.  The first specified supplementary group is also
              used as a primary group if the option ----ggrroouupp is unspecified.

       --, --ll, ----llooggiinn
              Start the shell as a login shell with an environment similar to  a
              real login:

                 o      clears all the environment variables except for TTEERRMM and
                        variables specified by ----wwhhiitteelliisstt--eennvviirroonnmmeenntt

                 o      initializes the environment variables HHOOMMEE, SSHHEELLLL, UUSSEERR,
                        LLOOGGNNAAMMEE, PPAATTHH

                 o      changes to the target user's home directory

                 o      sets  argv[0]  of  the shell to '--' in order to make the
                        shell a login shell

       --PP, ----ppttyy
              Create pseudo-terminal for the session. The  independent  terminal
              provides  better security as user does not share terminal with the
              original session.  This allow to avoid TIOCSTI ioctl terminal  in‐
              jection  and  another  security  attacks against terminal file de‐
              scriptors. The all session is also possible to move to  background
              (e.g.  "runuser  --pty -u username -- command &").  If the pseudo-
              terminal is enabled then runuser command works as a proxy  between
              the sessions (copy stdin and stdout).

              This  feature  is mostly designed for interactive sessions. If the
              standard input is not a terminal, but for example pipe (e.g.  echo
              "date" | runuser --pty -u user) than ECHO flag for the pseudo-ter‐
              minal is disabled to avoid messy output.

       --mm, --pp, ----pprreesseerrvvee--eennvviirroonnmmeenntt
              Preserve the entire environment, i.e. it does not set HHOOMMEE, SSHHEELLLL,
              UUSSEERR  nor LLOOGGNNAAMMEE.  The option is ignored if the option ----llooggiinn is
              specified.

       --ss, ----sshheellll=_s_h_e_l_l
              Run the specified _s_h_e_l_l instead of the default.  The shell to  run
              is selected according to the following rules, in order:

                 o      the shell specified with ----sshheellll

                 o      the shell specified in the environment variable SSHHEELLLL if
                        the ----pprreesseerrvvee--eennvviirroonnmmeenntt option is used

                 o      the shell listed in the passwd entry of the target user

                 o      /bin/sh

              If the target user has a restricted  shell  (i.e.  not  listed  in
              /etc/shells)  the  ----sshheellll  option and the SSHHEELLLL environment vari‐
              ables are ignored unless the calling user is root.

       ----sseessssiioonn--ccoommmmaanndd==_c_o_m_m_a_n_d
              Same as --cc ,, but do not create a new session.  (Discouraged.)

       --ww, ----wwhhiitteelliisstt--eennvviirroonnmmeenntt=_l_i_s_t
              Don't reset environment variables  specified  in  comma  separated
              _l_i_s_t when clears environment for ----llooggiinn. The whitelist is ignored
              for the environment variables  HHOOMMEE,  SSHHEELLLL,  UUSSEERR,  LLOOGGNNAAMMEE,  and
              PPAATTHH.

       --VV, ----vveerrssiioonn
              Display version information and exit.

       --hh, ----hheellpp
              Display help text and exit.

CCOONNFFIIGG FFIILLEESS
       rruunnuusseerr  reads the _/_e_t_c_/_d_e_f_a_u_l_t_/_r_u_n_u_s_e_r and _/_e_t_c_/_l_o_g_i_n_._d_e_f_s configuration
       files.  The following configuration items are relevant for rruunnuusseerr:

       EENNVV__PPAATTHH (string)
           Defines the PATH environment variable for a regular  user.   The  de‐
           fault value is _/_u_s_r_/_l_o_c_a_l_/_b_i_n_:_/_b_i_n_:_/_u_s_r_/_b_i_n.

       EENNVV__RROOOOTTPPAATTHH (string)
       EENNVV__SSUUPPAATTHH (string)
           Defines  the  PATH  environment  variable for root.  ENV_SUPATH takes
           precedence.  The  default  value  is  _/_u_s_r_/_l_o_c_a_l_/_s_b_i_n_:_/_u_s_r_/_l_o_c_a_l_/_b_i_n_:
           _/_s_b_i_n_:_/_b_i_n_:_/_u_s_r_/_s_b_i_n_:_/_u_s_r_/_b_i_n.

       AALLWWAAYYSS__SSEETT__PPAATTHH (boolean)
           If  set to _y_e_s and --login and --preserve-environment were not speci‐
           fied rruunnuusseerr initializes PPAATTHH.

       The environment variable PATH may be different on systems where /bin  and
       /sbin are merged into /usr.

EEXXIITT SSTTAATTUUSS
       rruunnuusseerr  normally returns the exit status of the command it executed.  If
       the command was killed by a signal, rruunnuusseerr returns  the  number  of  the
       signal plus 128.

       Exit status generated by rruunnuusseerr itself:

                 1      Generic error before executing the requested command

                 126    The requested command could not be executed

                 127    The requested command was not found

FFIILLEESS
       /etc/pam.d/runuser
                        default PAM configuration file
       /etc/pam.d/runuser-l
                        PAM configuration file if --login is specified
       /etc/default/runuser
                        runuser specific logindef config file
       /etc/login.defs  global logindef config file

S